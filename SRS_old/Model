Title CRASH
# Goals
  Req X88
    Spec Avoid human deaths in traffic for accidents where a car with the CRASH-system is involved
  Req X89
    Spec An autonomous car for Swedish traffic
  Req X90
    Spec Reduce amount of traffic accidents with cars that have the CRASH-system on Swedish roads
  Req X133
    Spec Within 10 years 1/3 autonomous cars shall use the CRASH system
  Req X92
    Spec The system shall strive for a usability level where 8/10 new users can interact with the system without instructions
  Req X95
    Spec The system shall give its passengers a comfortable ride through smooth driving
  Req X96
    Spec The system must reduce cars' negative impacts on the environment through fuel efficiency


# General
  Req X1
    Spec The system must support the functionality in the context diagram in figure 1


# Safety
  # Emergency break
    Req X123
      Spec The system must have an emergency break function when the system is in automatic mode
    Req X13
      Spec When the emergency break is activated the system must stop the car completely at the earliest possible safe place without risking an accident and stay still until a new command is provided by an authenticated user
    Req X7
      Spec The emergency break function must be reachable from all seats in the car for 8/10 users
    Req X8
      Spec The emergency break function must be easy to find for 9/10 users
    Req X9
      Spec The emergency break function must be easy to press for 8/10 users
    Req X15
      Spec In automatic mode, the car must always be possible to stop via the emergency-break
    Req X19
      Spec When the emergency break is activated the system must start to process the request within 100 ms
  # Traffic accidents
    Req X4
      Spec In the situation of an imminent accident, the system must prioritize in the following order:
      Req X5
        Spec Saving as many human lives as possible
      Req X6
        Spec Protecting humans inside the car
      Req X131
        Spec Protecting humans outside the car
      Req X153
        Spec Follow traffic rules
  # Weather and traffic information
    Req X14
      Spec The system must give a warning when dangerous weather conditions are predicted along the planned route
    Req X16
      Spec Any dangerous weather conditions must be notified, to the user, when a route is selected, before a route is commenced
    Req X17
      Spec Traffic and weather data must be fetched every minute when an Internet connection is available
  # Permissions
    Req X11
      Spec The system requires a blood alcohol content measuring device
    Req X47
      Spec When the car is in an unsafe state the car must not be allowed to drive.


# Surroundings
  # Positioning
    Req X23
      Spec The system requires a positioning system
    Req X27
      Spec The positioning system must be used when calculating the route
    Req X21
      Spec The system needs a positioning signal when starting on a new route
    Req X105
      Spec The system must be able to drive a short distance without knowing its position
    Req X28
      Spec The system is able to drive until the next connecting road without a GPS-signal
    Req X30
      Spec The GPS system must be precise to within 1 meter
  # Traffic and maps
    Req X108
      Spec The system must contain maps of Swedish roads
    Req X107
      Spec The system must be able to retrieve traffic information
    Req X29
      Spec The system has to retrieve data of current traffic situations when an Internet connection is available
    Req X31
      Spec The system must query for updates to its maps once a day
    Req X32
      Spec The maps must be precise, compared to reality, to within 3 meters
  # Sensors
    Req X22
      Spec The system requires a sensor system for monitoring the road and surroundings
    Req X25
      Spec Traffic surroundings must be analyzed and taken into account by the system when driving
    Req X24
      Spec When the surrounding sensors and the positioning data combined with the maps give conflicting input, the system must rely on the surrounding sensor data
    Req X33
      Spec The sensors that monitor the road and surroundings must have a margin of error for misinterpreting distances less than one centimeter
    Req X150
      Spec The sensors that monitor the road and surroundings must have an update frequency of at least 100Hz
    Req X156
      Spec The sensor system must have a range of 300 m in all directions (360 degrees)
    Req X157
      Spec The sensor system must be able to identify objects larger than 2 m at a distance of 300 m


# Traffic rules
  Req X34
    Spec The system must adhere to Swedish traffic laws
  Req X116
    Spec The system must adhere to Swedish car inspection rules and regulations (see def. for unsafe state) when evaluating the car status
  Req X35
    Spec The system must store current Swedish car inspection rules and regulations
  Req X36
    Spec The system must query for new car inspection rules & regulations once a day


# Users
  # Permissions
    Req X122
      Spec After authentication a traveller is recognized as an authenticated user by the system
    Req 114
      Spec Passengers can unlock the car and initiate transportation
    Req 115
      Spec A driver has the same rights as a passenger and must be able to select and change destination address as well as change to and from manual driving mode
    Req X66
      Spec An owner has the same rights as a driver and must be able to add, remove and edit users of user type passenger and driver
    Req X132
      Spec An owner must be able to edit its own address and phone number
    Req X67
      Spec An admin must have the same rights as an owner and must be able to add, remove and edit owners.
    Req X113
      Spec Inactive users have no system access
    Req 143
      Spec User types are ranked, from high to low, in the following order:
      Req X144
        Spec Admin
      Req X145
        Spec Owner
      Req X146
        Spec Driver
      Req X147
        Spec Passenger
    Req X157
      Spec If more than one traveler is authenticated, the one with the highest ranked user type is considered in control
    Req X68
      Spec If there are travelers in the car, at least one needs to be authenticated in order for the system to accept input or drive
  # Data
    Req X106
      Spec The system must be able to store user data
    Req X54
      Spec The system must support the following user types:
      Req X55
        Spec Passenger
      Req X56
        Spec Driver
      Req X57
        Spec Owner
      Req X58
        Spec Admin
    Req X59
      Spec The system must store the following user data:
      Req X60
        Spec Name
      Req X110
        Spec Address
      Req X109
        Spec Phone number
      Req X61
        Spec User type
      Req X142
        Spec IsActive
      Req X62
        Spec Authentication data
    Req X151
      Spec The system must store data corresponding to the virtual window concerning users
    Req X126
      Spec There must be maximum one user with user type owner in the system
    Req X124
      Spec There must be one and only one user with user type admin in the system
    Req X125
      Spec The user type admin must have the name Admin
    Req X69
      Spec The system must store the user-entries according the data dictionary in figure DATA


# Manual Drive
  # Activation
    Req X111
      Spec The system must support manual driving of the car
    Req X50
      Spec It must be possible to request manual mode
    Req X118
      Spec The system must support task 4
    Req X46
      Spec 9/10 new users authorized for manual driving must be able to request manual driving mode within 2 min
  #Personal safety
    Req X52
      Spec For a passenger to be able to drive the car manually, the person must pass the blood alcohol content test
    Req X53
      Spec The blood alcohol content test has to be configured according to Swedish traffic law, which states that you are not allowed to drive with an alcohol level of 0.2 per mille or higher.
    Req X117
      Spec The blood alcohol content measuring device needs to be approved acording to the european standard CENELEC 50436-1 and Swedish Transportstyrelesen regulation TSFS 2011:70
  # Road safety
    Req X49
      Spec To turn on and off the automatic mode the car must be standing still
    Req X51
      Spec In order to initiate manual mode, the car must be standing still
    Req X48
      Spec When the system is in manual driving mode, the system must be active and avoid accidents the same way as in autonomous mode
    Req X18
      Spec The system must respond to a potential accident before the accident is unavoidable


# I/O
  Req X79
    Spec When a command is entered feedback must be provided to the user
  Req X103
    Spec The system requires a network connection
  Req X76
    Spec A driver must be able to choose & change destination
  # Voice control
    Req X74
      Spec The system requires a voice input device
    Req X83
      Spec The user must be able to interact with the system via voice controlled input
    Req X80
      Spec If the voice control system cannot interpret an incoming voice command, it must suggest to the user what it interpreted
    Req X128
      Spec 7/10 times the voice control system must interpret the user command correctly
    Req X127
      Spec 9/10 users must be able to select a route with the voice control system within 2 minutes
  # Touch screen
    Req X119
      Spec The touch screen must have a touch precision more precise than 0.5 mm
    Req X120
      Spec The touch screen must have a resolution higher than 300 dots per inch
    Req X121
      Spec The touch screen must have a minimum size of 7 inches
    Req X159
      Spec 9/10 users using the touch screen must be able to change the destination within 30 seconds
    Req X234
      Spec The touch screen shall support the design in figure X.


# Remote
  Req X156
    Spec All commands that are available in the car must be available remotely
  Req X82
    Spec All commands that are available in the car must be available remotely
  Req X75
    Spec A user must be able to interact with the system remotely
  Req X81
    Spec The remote device must be able to display the last known location of the car


# Updates
  Req X97
    Spec The system must be able to store future system updates
  Req X98
    Spec The system must be able to install stored future system updates at a given date
  Req X99
    Spec The system must query for new system updates once a day
  Req X100
    Spec System updates must only be performed when the car is parked


# Data storage
  Req X148
    Spec The virtual windows must be supported by the system
  Req X102
    Spec The system must store route data
  Req X134
    Spec The system must store the following route data:
    Req X135
      Spec Date
    Req X136
      Spec Distance
    Req X137
      Spec Estimated time to complete route
    Req X138
      Spec Actual time to complete route
    Req X139
      Spec Fuel consumption/km
    Req X140
      Spec Total fuel consumption
    Req X141
      Spec Name of the users in the car
    Req X149
      Spec User type of the users in the car


# Car Status
  # Service log
    Req X37
      Spec The system must store a service log
    Req X152
      Spec The system must store data corresponding to the virtual window concerning the service log
    Req X44
      Spec The service log must store data about date, service type, service provider, mileage and description from every service done on the car
    Req X38
      Spec The service log must contain the following data: date, repair nr, service provider, mileage, description
    Req X39
      Spec The system must store the service log-entries in the way described in figure 3
  # Status and service
    Req X104
      Spec The system must notify the owner when the car needs a service
    Req X43
      Spec The car must be able to re-fuel on its own
    Req X40
      Spec The car must be able to re-fuel on its own


# Authentication
  Req X77
    Spec The system requires an authentication sensor
  Req 130
    Spec The authentication sensor must have a margin of error less than 1 ppm



# Comfort
  Req X2
    Spec The system must drive fuel efficiently
  Req X26
    Spec The ride must be comfortable for 9/10 users
  Req X3
    Spec EcoDriving must be performed according to the current definition by Sveriges Trafikskolors Riksförbund



Req X13 requires
  Req X123
  Req X15
Req X7 requires
  Req X123
Req X8 requires
  Req X123
Req X9 requires
  Req X123
Req X15 requires
  Req X123
Req X19 requires
  Req X123
Req X5 requires
  Req X4
Req X6 requires
  Req X4
Req X131 requires
  Req X4
Req X153 requires
  Req X4
  Req X34
Req X16 requires
  Req X14
Req X17 requires
  Req X14
  Req X103
Req X27 requires
  Req X23
Req X21 requires
  Req X23
  Req X27
Req X105 requires
  Req X22
  Req X25
  Req X33
  Req X150
  Req X156
Req X28 requires
  Req X22
  Req X105
  Req X25
  Req X33
  Req X150
  Req X156
Req X30 requires
  Req X23
Req X107 requires
  Req X103
Req X29 requires
  Req X103
  Req X107
Req X31 requires
  Req X103
  Req X107
Req X32 requires
  Req X108
Req X25 requires
  Req X22
Req X24 requires
  Req X22
  Req X23
  Req X150
  Req X156
  Req X157
Req X33 requires
  Req X22
  Req X25
Req X150 requires
  Req X22
Req X156 requires
  Req X22
Req X157 requires
  Req X22
Req X116 requires
  Req X35
Req X36 requires
  Req X103
Req X122 requires
  Req X77
Req X114 requires
  Req X147
  Req X56
Req X115 requires
  Req X114
  Req X144
  Req X56
Req X66 requires
  Req X115
  Req X145
  Req X57
Req X132 requires
  Req X109
  Req X110
  Req X145
  Req X57
Req X67 requires
  Req X132
  Req X144
  Req X58
Req X144 requires
  Req X58
Req X145 requires
  Req X57
Req X146 requires
  Req X56
Req X147 requires
  Req X55
Req X157 requires
  Req X122
Req X126 requires
  Req X57
Req X124 requires
  Req X58
Req X125 requires
  Req X57
Req X50 requires
  Req X111
Req X118 requires
  Req X50
  Req X111
Req X46 requires
  Req X50
Req X52 requires
  Req X11
  Req X111
Req X53 requires
  Req X11
Req X117 requires
  Req X11
Req X51 requires
  Req X111
Req X76 requires
  Req X66
Req X83 requires
  Req X74
Req X80 requires
  Req X74
Req X128 requires
  Req X74
Req X127 requires
  Req X74
Req X156 requires
  Req X103
Req X82 requires
  Req X156
  Req X103
  Req X79
Req X75 requires
  Req X77
  Req X103
Req X81 requires
  Req X75
  Req X103
Req X98 requires
  Req X97
Req X99 requires
  Req X103
Req X100 requires
  Req X103
  Req X98
Req X102 requires
  Req X23
Req X134 requires
  Req X102
Req X135 requires
  Req X134
Req X136 requires
  Req X134
  Req X23
Req X137 requires
  Req X134
  Req X23
Req X138 requires
  Req X134
  Req X23
Req X139 requires
  Req X134
Req X140 requires
  Req X134
Req X141 requires
  Req X134
Req X149 requires
  Req X134
Req X152 requires
  Req X37
Req X44 requires
  Req X37
Req X38 requires
  Req X37
Req X39 requires
  Req X37
Req X104 requires
  Req X57
Req X40 requires
  Req X116
  Req X35
Req X130 requires
  Req X77
Req X3 requires
  Req X2
